<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CS 33600 - Homework 1</title>
  <meta name="description" content="CS 33600 Homework 1">
  <meta name="author" content="Roger L. Kraft">
  <link rel="stylesheet" href="http://cs.pnw.edu/~rlkraft/roger-v2.css">
</head>

<body>
<!--
<header>
  <a href="http://cs.pnw.edu/~rlkraft/" title="Roger L. Kraft">Roger L. Kraft</a>
</header>
 -->
<nav>
  <ul class="nav-list">
    <li><a href="../cs33600.html">CS 33600</a></li>
    <li><a href="../syllabus.html">Syllabus</a></li>
    <li><a href="../class.html">Lectures and Readings</a></li>
    <li><a href="../homework.html">Homework Assignments</a></li>
  </ul>
  <ul class="nav-list">
    <li><a href="http://cs.pnw.edu/~rlkraft/roger.html">Roger Kraft</a></li>
    <li><a href="https://pnw.edu/computer-science/">Computer Science Department</a></li>
    <li><a href="https://pnw.edu/engineering/">School of Engineering</a></li>
    <li><a href="https://pnw.edu/college-of-engineering-sciences/">College of Engineering & Sciences</a></li>
    <li><a href="https://pnw.edu/">Purdue University Northwest</a></li>
  </ul>
</nav>

<section id="Content">
<h1>
Programming Assignment 1<br>
CS 33600<br>
Network Programming<br>
Spring, 2025
</h1>

<p>
This assignment makes use of the files contained in this <a href="hw1.zip">zip file</a>.
This assignment is due Wednesday, January 29.
</p>

<p>
In this assignment you will use the command-line, command-line arguments, standard I/O streams, piping, environment variables, and a configuration (properties) file.
</p>

<p>
In this assignment you will write a Java <a href="http://en.wikipedia.org/wiki/Filter_%28software%29">filter program</a> that formats a jumbled <a href="https://en.wikipedia.org/wiki/Standard_streams">stream</a> of input numbers into nicely organized columns. To determine the parameters for the output formatting your program will make use of <a href="http://en.wikipedia.org/wiki/Command-line_interface#Arguments">command-line arguments</a>, <a href="http://en.wikipedia.org/wiki/Environment_variable">environment</a> <a href="http://foldoc.org/?query=environment+variable">variables</a>, and a <a href="https://en.wikipedia.org/wiki/Configuration_file">configuration file</a>. To test your program you will use the Windows <a href="https://www.cs.princeton.edu/courses/archive/spr05/cos126/cmd-prompt.html">command-line</a>.
</p>

<p>
Write a Java program called <code>Filter.java</code> that reads from <a href="https://en.wikipedia.org/wiki/Standard_streams#Standard_input_.28stdin.29">standard input</a> and writes to <a href="https://en.wikipedia.org/wiki/Standard_streams#Standard_output_.28stdout.29">standard output</a>. The input to your program will be a sequence of positive integers separated by random amounts of <a href="https://en.wikipedia.org/wiki/Whitespace_character">white space</a>. The output of your program will be the input integers grouped and formatted into columns.
</p>

<p>
Here is an example of a stream of input integers (with at most seven decimal places each).
</p>
<article>
<pre>
            193511           87        275         62        82754      141467
8612          539                 2314              8671515    134   4084420
   5  72040                    796329      2663250     5236 3959931
4850        722044  56         73              299           5443348
              20009      79          3488428    27        51528      78401
                    70761    1             166520             40743  29525  4
7     338                 573586      255119    442298                   876
7838               145950           624561      756   55790     68
8816157     3234               4802                 1838538      389        71
                34            19636         6573222               27     1  6
      82            408577       22055      4909020         1807       1
             145345         41318 6   611                5266397     3
14 3                  26                789      118           3726251
 24     75271             72            4113528            4         7943
          52302      374188         72              54      209       2225
</pre>
</article>
<p>
Here are those integers grouped into a single group, then formatted into six columns, and printed with nine spaces between the ones places of adjacent columns.
</p>
<article>
<pre>
   193,511        87       275        62    82,754   141,467
     8,612       539     2,314 8,671,515       134 4,084,420
         5    72,040   796,329 2,663,250     5,236 3,959,931
     4,850   722,044        56        73       299 5,443,348
    20,009        79 3,488,428        27    51,528    78,401
    70,761         1   166,520    40,743    29,525         4
         7       338   573,586   255,119   442,298       876
     7,838   145,950   624,561       756    55,790        68
 8,816,157     3,234     4,802 1,838,538       389        71
        34    19,636 6,573,222        27         1         6
        82   408,577    22,055 4,909,020     1,807         1
   145,345    41,318         6       611 5,266,397         3
        14         3        26       789       118 3,726,251
        24    75,271        72 4,113,528         4     7,943
    52,302   374,188        72        54       209     2,225
</pre>
</article>
<p>
On the other hand, here are those same integers grouped into groups of 12, then formatted into five columns, printed with 14 spaces between the ones places of adjacent columns, and with one blank line between two groups of integers.
</p>
<article>
<pre>
        193,511             87            275             62         82,754
        141,467          8,612            539          2,314      8,671,515
            134      4,084,420

              5         72,040        796,329      2,663,250          5,236
      3,959,931          4,850        722,044             56             73
            299      5,443,348

         20,009             79      3,488,428             27         51,528
         78,401         70,761              1        166,520         40,743
         29,525              4

              7            338        573,586        255,119        442,298
            876          7,838        145,950        624,561            756
         55,790             68

      8,816,157          3,234          4,802      1,838,538            389
             71             34         19,636      6,573,222             27
              1              6

             82        408,577         22,055      4,909,020          1,807
              1        145,345         41,318              6            611
      5,266,397              3

             14              3             26            789            118
      3,726,251             24         75,271             72      4,113,528
              4          7,943

         52,302        374,188             72             54            209
          2,225
</pre>
</article>

<p>
The input integers should be "right justified" in each output column, which means that all the integers in a column will line up vertically at their ones place. Each group of integers will be separated by one blank line.
<p>

<p>
The <code>Filter.java</code> program requires three parameters. One parameter determines the number of output columns. Another parameter determines the number of character spaces between the ones places of adjacent columns. And another parameter determines how many input integers get grouped together.
</p>

<p>
The next several paragraphs specify how the <code>Filter.java</code> program finds a value for each of these three parameters using command-line arguments, environment variables, and a configuration file.
</p>

<p>
In <code>Filter.java</code>, the default number of output columns should be three. If the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Properties.html">properties</a> file <code>filter.properties</code> exits in the current directory, and if that properties file contains a key with the name <code>"columns"</code>, and if the value of that key parses to a positive integer value, then the value of the <code>"columns"</code> key overrides the default number of output columns. If there is an <a href="https://en.wikipedia.org/wiki/Environment_variable">environment variable</a> called <code>CS336_COLUMNS</code>, and if the value of that variable parses to a positive integer value, then the value of that environment variable overrides the default number of columns and the number of columns set by the properties file (if it exits). If there is a first <a href="http://www.linfo.org/argument.html">command-line argument</a>, and if the value of that argument parses to a positive integer value, then that command-line argument overrides the environment variable (if there is one), the properties file (if it exits), and the default number of columns.
</p>

<p>
In <code>Filter.java</code>, the default number of character spaces between the ones places of adjacent columns is 10 spaces. If the properties file <code>filter.properties</code> exits in the current directory, and if that properties file contains a key with the name <code>"spacing"</code>, and if the value of that key parses to a positive integer value, then the value of the <code>"spacing"</code> key overrides the default spacing. If there is an environment variable called <code>CS336_SPACING</code>, and if the value of that variable parses to a positive integer value, then the value of that environment variable overrides the default spacing and the spacing set by the properties file (if it exits). If there is a second command-line parameter, and if the value of that parameter parses to a positive integer value, then that command-line parameter overrides the environment variable (if there is one), the properties file (if it exits), and the default value of spacing.
</p>

<p>
The input integers should be combined into groups with the members of each group being formatted into the appropriate number of columns and with one blank line separating each group. In <code>Filter.java</code> the default length of a group should be 0, which means that all the input numbers should be placed in a single group. If the properties file <code>filter.properties</code> exits in the current directory, and if that properties file contains a key with the name <code>"groups"</code>, and if the value of that key parses to a positive integer value, then the value of the <code>"groups"</code> key overrides the default length for groups. If there is an environment variable called <code>CS336_GROUPS</code>, and if the value of that variable parses to a positive integer value, then the value of that variable overrides the default group length and the group length set by the property file (if it exits). If there is a third command-line parameter, and if the value of that parameter parses to a positive integer value, then that command-line parameter overrides the environment variable (if there is one), the property file (if it exits), and the default length for groups.
</p>

<p>
To retrieve property values from the <code>filter.properties</code> file (if it exists) your <code>Filter.java</code> program first needs to create a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Properties.html">Properties</a> object. Then your program should create a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html">File</a> object (for the file <code>filter.properties</code>) and a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileInputStream.html">FileInputStream</a> object (from the <code>File</code> object) and use it to <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)">load</a> the properties from the properties file. After the properties have been loaded into the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Properties.html">Properties</a> object, you use the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Properties.html#getProperty(java.lang.String)">getProperty</a> method to see if a particular key has a value. The properties file is a text file, so the "integer" values in it are actually strings. Use the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)">parseInt()</a> method to convert them to <code>int</code> values. If the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)">load()</a> method throws a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileNotFoundException.html">FileNotFoundException</a>, that means that the <code>filter.properties</code> file does not exist, so you can go on to looking for the environment variables.
</p>

<p>
Your program should use the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)"><code>getenv()</code></a> method to see if there are <a href="https://beej.us/guide/bgc/html/split/the-outside-environment.html#env-var">environment variables</a> named <code>CS336_COLUMNS</code> or <code>CS336_SPACING</code> or <code>CS336_GROUPS</code>. If any of these environment variables exists, then its string value should be converted to an integer value by using the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)"><code>parseInt()</code></a> method.
</p>

<p>
Your program should get its <a href="https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html">command-line arguments</a> by using the <code>args</code> parameter to your program's <code>main()</code> method. Command-line arguments, like environment variables, are always strings. So you need to use <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)"><code>parseInt()</code></a> to convert a command-line argument into an <code>int</code> value.
</p>

<p>
Your program should read the sequence of input integers from <a href="http://www.linfo.org/standard_input.html">standard input</a> by using the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html">Scanner</a> class methods <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#hasNextLong()"><code>hasNextLong()</code></a> and <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html#nextLong()"><code>nextLong()</code></a>.
</p>

<p>
Your program should write <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Formatter.html#syntax">formatted</a> numbers to <a href="http://www.linfo.org/standard_output.html">standard output</a> by using the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#printf(java.lang.String,java.lang.Object...)"><code>printf()</code></a> method and its associated <a href="https://www.cs.colostate.edu/~cs160/.Summer16/resources/Java_printf_method_quick_reference.pdf">formatting strings</a>.</p>

<p>
In the zip file for this assignment you will find a program called <code>Source.java</code> that you can use to test your program. The program <code>Source.java</code> writes to standard output a stream of random <code>long</code> integers. The integers are separated by random amounts of white space and there are a random number of random integers on each line of output. You can test your <code>Filter.java</code> program by <a href="http://en.wikipedia.org/wiki/Pipe_(Unix)">piping</a> the standard output of <code>Source</code> into the standard input of your <code>Filter</code>. For example,
</p>
<pre>
     &gt; java Source | java Filter
</pre>
<p>
The <code>Source</code> program takes three optional command-line arguments. The first determines the maximum number of digits in each random integer. The second determines how many lines of output there are. The third determines how many random integers there are on each line of output. For example, the following command-line will write to standard output a stream of 1, 2, or 3 digit random integers.
</p>
<pre>
     &gt; java Filter 3
</pre>
<p>
Without any command-line arguments, <code>Source</code> will produce a random number of output lines (up to 100) and each output line will contain a random number of integers (up to 10) and each random integer will have at most six digits.
</p>
<p>
The <code>Source</code> program outputs long integers, so the maximum number of digits allowed by <code>Source</code> is 19.
</p>

<p>
You can give the <code>Filter</code> program command-line arguments. The following command-line will output groups of 50 integers in 8 columns with 10 spaces between the ones places.
</p>
<pre>
     &gt; java Source | java Filter 8 10 50
</pre>

<p>
You can set an environment variable by using the following shell command.
</p>
<pre>
     &gt; set CS336_GROUPS=20
     &gt; java Source | java Filter 8 10
</pre>

<p>
The previous commands used a <a href="http://en.wikipedia.org/wiki/Pipe_(Unix)">pipe</a> (the character <code>'|'</code>). Using a <a href="http://www.linfo.org/pipes.html">pipe</a> is equivalent to the following two commands that use <a href="http://foldoc.org/I/O%20redirection">I/O redirection</a>.
</p>
<pre>
     &gt; java Source > temp
     &gt; java Filter 8 10 50 < temp
</pre>
<p>
The first command <a href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-xp/bb490982(v=technet.10)?redirectedfrom=MSDN">redirects</a> the standard output from <code>Source</code> into a temporary file called <code>temp</code> and then the second command redirects the contents of <code>temp</code> into the standard input of <code>Filter</code>. (How would you save the resulting output from <code>Filter</code> in a file called <code>data.txt</code>?) The piped version of the command has the advantage of not needing a temporary file. But the redirected version of the commands have the advantage that you can reuse the same data file in multiple <code>Filter</code> trials.
</p>

<p>
For example, the following command-line will produce (up to) 4 digit random integers on 5 lines with 6 integers per line.
</p>
<pre>
     &gt; java Source 4 5 6
</pre>
<p>
The following command-line pipes the randomly generated data directly into the <code>Filter</code> process.
</p>
<pre>
     &gt; java Source 4 5 6 | java Filter
</pre>
<p>
The following command-line will save the randomly generated data in a file for possible use in testing the <code>Filter</code> program.
</p>
<pre>
     &gt; java Source 4 5 6 > myData.txt
</pre>
<p>
The following command-line redirects the saved data file into the <code>Filter</code> process.
</p>
<pre>
     &gt; java Filter 2 6 20 < myData.txt
</pre>

<p>
In the zip file for this assignment you will find an <a href="https://docs.oracle.com/javase/tutorial/deployment/jar/run.html">executable jar file</a> demo program, called <code>filter_demo.jar</code>, that you can use to demo this assignment. You can pipe the output from <code>Source</code> into the demo program with this command-line.
</p>
<pre>
     &gt; java Source 4 5 6 | java -jar filter_demo.jar 2 6 20
</pre>

<p>
In the zip file for this assignment you will also find a sample properties file, <code>filter.properties</code>.
</p>

<p>
In the zip file there are files <code>data.txt</code>, <code>test_filter.cmd</code>, and <code>test_filter_results_correct.txt</code> that help you test your completed version of <code>Filter.java</code>. Once you have <code>Filter.java</code> written and compiled, you can double click on the file <code>test_filter.cmd</code> which will run your <code>Filter</code> program several times with the data from <code>data.txt</code> as <code>stdin</code> and gather all the results into a file called <code>test_filter_results.txt</code> which you can then compare with <code>test_filter_results_correct.txt</code>. Your <code>test_filter_results.txt</code> file should be exactly the same as <code>test_filter_results_correct.txt</code>.
<p>

<p>
In the zip file there is another test script, <code>test_filter2.cmd</code>, that contains several example command-lines that your <code>Filter</code> program should be able to handle properly.
</p>

<p>
Do not try to write <code>Filter.java</code> all at once! Write it in stages. Break the problem down into sub-problems and solve them one at a time. For example, here is an outline of how you might go about attacking this program.
<ul>
<li>First, get your filter to print all of the input integers in a single column with the ones places lined up in column 11 (so that there are 10 character spaces between the ones place and the left edge of the console).</li>
<li>Second, create three columns of output with 10 character spaces between the ones places in each column. Be sure to take into consideration that the last row need not have three columns.</li>
<li>Third, have a command-line argument determine the number of columns (still with 10 character spaces between the ones places in each column).</li>
<li>Fourth, have a command-line argument determine the number of character spaces between the ones places in each column.</li>
<li>Fifth, have a command-line argument determine the length of a group of numbers.</li>
<li>Sixth, let environment variables determine the program's parameters.</li>
<li>Last, check for the properties file (before checking for the environment variables and the command-line arguments) and, if it exits and has the correct keys, then have its values override the default values.
</ul>
</p>

<p>
Make sure you test your program under a wide variety of conditions. With and without a configuration file, with and without environment variables, with and without command-line arguments.
</p>

<p>
When you want to <a href="https://ss64.com/nt/set.html">set</a> an environment variable from the command-line, be careful <b>not</b> to use a command like the following, with extra spaces around the <code>=</code>.
</p>
<pre>
     &gt; set CS336_COLUMNS = 7
</pre>
<p>
This creates an environment variable called <code>"CS336_COLUMNS "</code> (with a trailing space) and gives it the value <code>" 7"</code> (with a leading space).
</p>

<p>
When you set an environment variable, it only exits in the command window where you created it. So, for example, you cannot create an environment variable in one command prompt window and then run your program from an IDE or an editor or another command prompt window.
</p>

<p>
In the zip file there are sub-folders <code>Command-line_arguments</code>, <code>Environment_variables</code>, and <code>Properties_file</code>, with sample code that demonstrates, respectively, using command-line arguments, environment variables, and a properties file.
</p>

<p>
Here is a list of some classes and methods that you can use.
<ul>
   <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/PrintWriter.html#printf(java.lang.String,java.lang.Object...)">printf()</a></li>
   <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)">getenv()</a></li>
   <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html">Scanner</a></li>
   <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Properties.html">Properties</a></li>
   <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Properties.html#load(java.io.InputStream)">Properties.load()</a></li>
   <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Properties.html#getProperty(java.lang.String)">Properties.getProperty()</a></li>
   <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html">File</a></li>
   <li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/FileInputStream.html">FileInputStream</a></li>
</ul>
</p>

<p>
<a href="http://cs.pnw.edu/~rlkraft/cs33600/handin.html">Turn in</a> a zip file called <code>CS336Hw1Surname.zip</code> (where <code>Surname</code> is your last name) containing your version of <code>Filter.java</code>.
</p>

<p>
This assignment is due Wednesday, January 29.
</p>

</section>

<footer>
  <script>
    document.write('<small><small><i>Last modified on ' + document.lastModified + '.</i></small></small>');
  </script>
  <br>
  <a href="mailto:rlkraft@pnw.edu"><small><small><i>compliments and criticisms</i></small></small></a>
</footer>

</body>
</html>
